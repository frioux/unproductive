# unproductive

A tool for finding out how unproductive I really am.

## Description

Unproductive has four major parts.

### `unproductive`

The first part runs constantly and polls the X server, extracting the title of
the currently selected window and printing it, along with the current timestamp,
what SSID you are connected to, and if you are running a vpn, to standard out.
Expected usage is:

``` bash
$ unproductive | tee -a ~/x11-time.txt
```

An example recorded line is:

```
@400000005B1A9137151C6E76	Station	false	work:vim:/home/frew/code/unproductive
```

(I'll probably switch it to seconds since the epoch soon.)

### `filter`

This is entirely unimplemented, but my intention is to write a simple Perl
script that will filter the recorded lines.  Obviously it can filter on
anything, but my intended filters are:

 * `--time`
 * `--ssid`
 * `--vpn`

So you might be run the following command to see the past week of data when you
were working from home:

``` bash
$ < ~/x11-time.txt filter --time 7d --ssid Station --vpn
```

### `retitle`

Better names for this are welcome.  This reads the raw titles and writes a JSON
list that expresses a heirarchy of what you were doing.  An example is surely
more clear:

``` bash
$ echo 'core | ZipRecruiter Slack - Mozilla Firefox' | retitle
["Chat", "Slack", "ZR", "Work", "core"]
```

I suspect that this tool will need to be custom built for each user.  That's
fine.

### `report`

Finally, the `report` tool reads the JSON and sums and outputs the values in a
fashion that should be reminiscent of `du(1)`.  No example output yet since I'm
still fiddling with it, but I intend to allow it to optionally output
percentages, human readable times (`3m` instead of 180), etc.

## Tips

For this to work well you need to set titles of your windows.  This mostly means
that terminal apps need to be configured a little.  I use tmux, so I needed to
put the following two settings in my `.tmux.conf`:

``` tmux
set -g set-titles on
set -g set-titles-string "#{session_name}:#{window_name}:#{pane_current_path}"
```

The first line tells `tmux` to set the title; the second changes the format to
something more useful than the default.

I also run `terminator` directly without `tmux` underneath.  In that case it is
worth directly setting the title.  Here's how I do that:

``` bash
$ terminator -e "vim -S $session" -T "vim:$session"
```

Other terminals will have similar settings and techniques.
